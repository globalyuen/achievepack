const fs = require('fs');
const path = require('path');

const replacements = [
  ['随', 'Follow'],
  ['误', 'Error'],
  ['群', 'Group'],
  ['施', 'Apply'],
  ['墨', 'Ink'],
  ['取', 'Take'],
  ['交叉', 'Cross'],
  ['之', 'Of'],
  ['附', 'Attach'],
  ['闪', 'Flash'],
  ['鏈開', 'Chain Open'],
  ['鏈', 'Chain'],
  ['遵循', 'Follow'],
  ['辣', 'Spicy'],
  ['贴附', 'Attach'],
  ['贴', 'Paste'],
  ['购率', 'Purchase Rate'],
  ['货', 'Goods'],
  ['購買欲望', 'Purchase Desire'],
  ['費樣', 'Sample Fee'],
  ['費', 'Fee'],
  ['販', 'Sell'],
  ['象', 'Elephant'],
  ['豆', 'Bean'],
  ['详', 'Detail'],
  ['许', 'Allow'],
  ['讓', 'Let'],
  ['警示语', 'Warning Text'],
  ['警告', 'Warning'],
  ['證', 'Certificate'],
  ['評估', 'Evaluate'],
  ['製', 'Make'],
  ['补', 'Supplement'],
  ['融', 'Melt'],
  ['药房', 'Pharmacy'],
  ['荧光', 'Fluorescent'],
  ['茄汤', 'Tomato Soup'],
  ['般雜貨', 'General Grocery'],
  ['般', 'General'],
  ['航', 'Sail'],
  ['臭', 'Smell'],
  ['脱颖', 'Stand Out'],
  ['胃', 'Stomach'],
  ['肉', 'Meat'],
  ['聚乳酸', 'Polylactic Acid'],
  ['聚乙烯', 'Polyethylene'],
  ['聚', 'Poly'],
  ['者', 'Person'],
  ['缩短', 'Shorten'],
  ['概', 'Roughly'],
  ['检', 'Check'],
  ['械', 'Machine'],
  ['桌', 'Table'],
  ['标记', 'Mark'],
  ['架', 'Shelf'],
  ['果', 'Result'],
  ['板', 'Board'],
  ['杂', 'Mixed'],
  ['期', 'Period'],
  ['服務', 'Service'],
  ['显露', 'Reveal'],
  ['显著', 'Significant'],
  ['显示', 'Display'],
  ['明显', 'Obvious'],
  ['旨', 'Purpose'],
  ['日期', 'Date'],
  ['施广泛', 'Apply Widely'],
  ['数秒', 'Seconds'],
  ['数', 'Number'],
  ['散', 'Scatter'],
  ['摔碎', 'Shatter'],
  ['摆', 'Place'],
  ['插', 'Insert'],
  ['控', 'Control'],
  ['损失', 'Loss'],
  ['捕捉光', 'Capture Light'],
  ['挡住', 'Block'],
  ['挡', 'Block'],
  ['拿', 'Take'],
  ['拼盘', 'Platter'],
  ['抵抗', 'Resist'],
  ['披露', 'Disclose'],
  ['护', 'Protect'],
  ['折扣', 'Discount'],
  ['抗', 'Anti'],
  ['承担', 'Bear'],
  ['扩散', 'Spread'],
  ['才', 'Only'],
  ['應鏈', 'Supply Chain'],
  ['懂', 'Understand'],
  ['態', 'State'],
  ['愿', 'Willing'],
  ['惊扰', 'Disturb'],
  ['总', 'Total'],
  ['必须存', 'Must Store'],
  ['必', 'Must'],
  ['微涟漪标记着', 'Ripple Marks'],
  ['微泡', 'Microbubble'],
  ['微', 'Micro'],
  ['循環次', 'Cycle Times'],
  ['径', 'Path'],
  ['往', 'Go'],
  ['強', 'Strong'],
  ['弯折', 'Bend'],
  ['弧', 'Arc'],
  ['废弃', 'Discard'],
  ['库', 'Storage'],
  ['广泛', 'Wide'],
  ['干貨', 'Dry Goods'],
  ['干扰', 'Interfere'],
  ['岁', 'Age'],
  ['層', 'Layer'],
  ['局', 'Bureau'],
  ['尼龍', 'Nylon'],
  ['尖', 'Sharp'],
  ['實際', 'Actual'],
  ['害', 'Harm'],
  ['宣言', 'Declaration'],
  ['定', 'Fixed'],
  ['孢', 'Spore'],
  ['存', 'Store'],
  ['字', 'Character'],
  ['嬰兒', 'Baby'],
  ['始终', 'Always'],
  ['契', 'Contract'],
  ['失', 'Lose'],
  ['夠傳', 'Enough to Spread'],
  ['壓', 'Pressure'],
  ['壁', 'Wall'],
  ['填', 'Fill'],
  ['報告', 'Report'],
  ['埋', 'Bury'],
  ['垂', 'Hang'],
  ['坚', 'Solid'],
  ['圈', 'Circle'],
  ['圆', 'Round'],
  ['图示', 'Diagram'],
  ['图', 'Image'],
  ['国', 'Country'],
  ['团', 'Group'],
  ['單', 'Single'],
  ['咨询', 'Consult'],
  ['命周期', 'Lifecycle'],
  ['周', 'Week'],
  ['含', 'Include'],
  ['吨', 'Ton'],
  ['否', 'Whether'],
  ['吞吐', 'Throughput'],
  ['号码', 'Number'],
  ['号', 'Number'],
  ['另', 'Another'],
  ['叠', 'Stack'],
  ['叙事', 'Narrative'],
  ['取代', 'Replace'],
  ['发', 'Send'],
  ['双道', 'Dual Track'],
  ['参考图', 'Reference Image'],
  ['参考', 'Reference'],
  ['参数', 'Parameter'],
  ['厚', 'Thick'],
  ['却', 'But'],
  ['危险', 'Danger'],
  ['协', 'Cooperate'],
  ['半径', 'Radius'],
  ['半', 'Half'],
  ['办公', 'Office'],
  ['剧', 'Drama'],
  ['刷锅洗碗', 'Wash Dishes'],
  ['刮', 'Scrape'],
  ['初仍', 'Still Initially'],
  ['创', 'Create'],
  ['列表', 'List'],
  ['切割', 'Cut'],
  ['切', 'Cut'],
  ['几秒', 'A Few Seconds'],
  ['几乎', 'Almost'],
  ['净室', 'Clean Room'],
  ['净', 'Net'],
  ['冲', 'Rush'],
  ['冰镇', 'Chilled'],
  ['冰柜', 'Freezer'],
  ['写', 'Write'],
  ['养补充', 'Nutrition Supplement'],
  ['养', 'Nurture'],
  ['公共', 'Public'],
  ['優越', 'Superior'],
  ['價値', 'Value'],
  ['傳播', 'Spread'],
  ['储', 'Store'],
  ['估', 'Estimate'],
  ['任务', 'Task'],
  ['付定', 'Pay Deposit'],
  ['仍', 'Still'],
  ['今日任务', 'Today Task'],
  ['交', 'Submit'],
  ['乱', 'Mess'],
  ['临床', 'Clinical'],
  ['丰富', 'Rich'],
];

const pagesDir = path.join(__dirname, '..', 'src', 'pages');

function getAllTsxFiles(dir) {
  let files = [];
  const items = fs.readdirSync(dir);
  for (const item of items) {
    const fullPath = path.join(dir, item);
    const stat = fs.statSync(fullPath);
    if (stat.isDirectory()) {
      files = files.concat(getAllTsxFiles(fullPath));
    } else if (item.endsWith('.tsx')) {
      files.push(fullPath);
    }
  }
  return files;
}

const files = getAllTsxFiles(pagesDir);
let totalReplacements = 0;

files.forEach(filePath => {
  let content = fs.readFileSync(filePath, 'utf8');
  let fileReplacements = 0;
  
  replacements.forEach(([chinese, english]) => {
    const count = (content.split(chinese).length - 1);
    if (count > 0) {
      content = content.split(chinese).join(english);
      fileReplacements += count;
    }
  });
  
  if (fileReplacements > 0) {
    fs.writeFileSync(filePath, content);
    console.log(`${path.basename(filePath)}: ${fileReplacements} replacements`);
    totalReplacements += fileReplacements;
  }
});

console.log(`\nTotal replacements: ${totalReplacements}`);
